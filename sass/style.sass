$textarea-transition-time: 0.6s

@import "_bootstrap-variables.sass"
@import "node_modules/bootstrap-sass/assets/stylesheets/_bootstrap.scss"
@import "node_modules/font-awesome/scss/font-awesome.scss"

// Select2
@import "thirdparty/select2/src/scss/core.scss"
@import "select2/theme/layout.scss"

// Deploynaut styles
@import "_tabs"
@import "_form.sass"
@import "_type.sass"
@import "_user-switch.sass"


.alert
	&.alert-error,
	&.Failed
		@extend .alert-danger

	&.alert-good,
	&.Complete
		@extend .alert-success

	&.Started,
	&.Queued,
	&.Running
		@extend .alert-info

	&.Invalid
		@extend .alert-warning

	.fa
		margin-right: 4px

	ul
		margin: 10px 0 20px 20px
		padding-bottom: 10px
		list-style: disc

.progress-bar
	width: 100% /* default */

	&.Failed
		@extend .progress-bar-danger

	&.Complete
		@extend .progress-bar-success

	&.Started,
	&.Queued,
	&.Running
		@extend .progress-bar-info

	&.Invalid
		@extend .progress-bar-warning


.list-reset
	> li
		padding: 0
		margin: 0
		list-style: none

.submenu
	> li > ul,
	> li > ol
		margin-top: 0

.page-container
	padding-left: $nav-width
	margin: 0 auto

	@media (max-width: $screen-md)
		padding-left: 0


.upload-exceed-link
	margin-bottom: 0
	margin-left: 30px

.upload-exceed-container
	position: relative
	overflow: hidden

	.upload-exceed-link
		position: absolute
		top: -1px
		right: -1px

.upload-close
	background-color: #ddd
	color: #444;
	display: block;
	padding: 10px 15px;
	position: absolute
	top: -1px;
	right: -1px;
	border-radius-top-left: $border-radius-base

	&:hover
		color: #444;
		background-color: #d7d7d7


.disk-quota
	@extend .alert
	margin: -30px -30px 0

	&.success
		@extend .alert-success

	&.warning
		@extend .alert-warning

	&.danger
		@extend .alert-danger


// SIDEBAR
.sidebar
	width: $nav-width
	left: 0
	bottom: 0
	overflow-y: auto
	position: fixed
	top: 0
	color: rgba(255, 255, 255, 0.3)
	overflow-x: hidden
	z-index: 10
	transition: all 0.28s ease-out 0s
	opacity: 1


@media (max-width: $screen-md)
	.sidebar
		width: 100%
		left: -100%
		opacity: 0

	.open .sidebar
		display: block
		opacity: 1
		left: 0


.side-content
	padding: 13px 20px 1px;

	ul.nav ul
		background-color: rgba(0, 0, 0, 0.15);
		padding: 0;
		margin: 0;
		overflow: hidden;

		a
			opacity: .8;
			padding-left: 54px;

			&:hover
				color: #fff;
				background-color: transparent;
				text-decoration: none;
				opacity: 1;

		li.active a
			color: #fff;

	li > a
		&:hover,
		&:focus
			color: #fff;
			text-decoration: none;


.btn-security
	margin-bottom: 0


.nav-submenu
	font-weight: bold
	position: relative

	&.open .icon-arrow
		-ms-transform: rotate(180deg); /* IE 9 */
		-webkit-transform: rotate(180deg); /* Chrome, Safari, Opera */
		transform: rotate(180deg);


.icon-arrow
	width: 16px;
	height: 16px
	display: block;
	position: absolute;
	right: 15px;
	top: 10px;
	background-color: red;
	background: transparent url(../img/Platform_icon-arrow.svg) no-repeat;


	ul.nav ul
		background-color: rgba(0, 0, 0, 0.15)
		padding: 0
		margin: 0
		overflow: hidden

		a
			opacity: .8
			padding-left: 54px

			&:hover
				color: #fff
				background-color: transparent
				text-decoration: none
				opacity: 1

		li.active a
			color: #fff

	li > a
		&:hover,
		&:focus
			color: #fff
			text-decoration: none


.icon-arrow
	width: 16px
	height: 16px
	display: block
	position: absolute
	right: 15px
	top: 10px
	background-color: red
	background: transparent url(../img/Platform_icon-arrow.svg) no-repeat


// SIDEBAR-MENU

.side-content .nav
	margin: 0 -20px
	padding: 0

	> li
		a
			color: $navbar-inverse-link-color
			padding: 10px 35px 10px 20px
			display: block
			transition: color 0.12s ease-out 0s

			&:hover, &:focus
				color: $navbar-inverse-link-color
				background-color: rgba(0, 0, 0, 0.2)

		&.nav-main-heading
		    font-size: 12px
		    font-weight: 400
		    padding: 22px 35px 6px 20px
		    text-transform: uppercase



// MAIN
// Header bar
.header-navbar
	min-height: 60px
	background-color: #fff
	min-width: 320px
	left: 230px
	border-bottom: 1px solid #eee

	// needed when the top bar is used more
	// position: fixed
	// right: 0
	// top: 0
	// z-index: 1030
	// box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02)

	.nav a
		padding: 18px 30px 22px

	.nav-header
		margin-left: 30px

button.sidebar-open
	margin-top: 12px


.main-container
	// margin-top: 60px (needed when the top bar is used more)

	.page-header
		background-color: #f0f3f4
		margin: 0
		border-bottom: 1px solid $UI-border
		padding-bottom: 0
		padding-top: 20px

	.breadcrumb
		padding-left: 0
		padding-right: 0
		margin-bottom: -25px

	.page-heading
		margin-bottom: 30px

	.nav.nav-tabs
		border-bottom: none

		> li >
			a,
			a:hover,
			a:focus
				border-color: transparent
				padding-left: 0
				padding-right: 0
				margin-right: 20px
				background-color: transparent

		> li.active > a
			border: none
			border-bottom: 3px solid $platform-blue
			background-color: none
			background-color: transparent

			&:hover, &:focus
				color: $gray-darker
				border-bottom-color: $link-hover-color

		> li:last-child a
			margin-right: 0


.content
	margin: 0 auto
	padding: 30px 30px 1px
    background-color: #f9f9f9

	&.content-vert
		padding-top: 0
		padding-bottom: 0



// TYPE
.table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th
	border-bottom: 1px solid $UI-border
	font-size: 14px
	font-weight: 600
	padding: 16px 10px 12px
	text-transform: uppercase

.table-large > tbody > tr > td
	padding-top: 20px
	padding-bottom: 20px


// Environment
.deploy-dropdown
	@extend .btn
	@extend .btn-primary
	@extend .btn-block
	@extend .btn-lg
	border-radius: $border-radius-base
	text-align: left
	font-size: 26px
	line-height: 40px
	margin-bottom: 0


	@media (max-width: $screen-md)
		font-size: 20px

	.status-icon
		@extend .fa
		@extend .fa-angle-down
		@extend .pull-right
		line-height: 36px
		font-size: 40px

	.loading-text
		display: none

	&.open
		border-bottom-left-radius: 0
		border-bottom-right-radius: 0

		.status-icon
			@extend .fa-angle-up

	&.loading
		.loading-text
			@extend .pull-right
			display: inherit
			font-size: 20px
			font-weight: 300

			@media (max-width: $screen-md)
				display: none

		.status-icon
			@extend .fa-cog
			@extend .fa-spin
			font-size: 26px
			margin-left: 10px
	&.error
		@extend .alert
		@extend .alert-danger

.deploy-dropdown-errors
	@extend .alert
	@extend .alert-danger
	white-space: pre

.deploy-form-outer
	border-width: 0px 1px 1px
	border-style: solid
	border-color: #bbb
	overflow: hidden

	.numberCircle
		display: inline-block
		min-width: 10px
		padding: 3px 7px
		font-weight: bold
		line-height: 1
		color: #fff
		text-align: center
		white-space: nowrap
		background-color: $platform-blue
		border-radius: 50%

	.deploy-form
		position: relative

		.deploy-button
			text-transform: uppercase

			small
				font-size: 70%;
				text-transform: none;

			&:disabled
				background-color: #cccccc
				border: $gray


		label
			position: static
			font-size: 16px
			font-weight: bold
			color: $platform-blue
			margin-bottom: 1em

		&:after /* False background */
			height: 300px
			background-color: $theme-bg
			content: " "
			display: block
			bottom: 0
			left: 0
			top: 0
			@extend .col-md-4
			float: none;
			position: unset
			border-right: 1px solid #bbb

			@media (max-width: $screen-md)
				display: none


		.SelectionGroup
			@extend .nav
			@extend .nav-pills
			@extend .nav-stacked
			@extend .col-md-4
			padding-right: 0
			font-weight: 300
			z-index: 2


			> li
				background-color: $theme-bg
				border-width: 1px 1px 1px 0px
				border-color: #ccc
				border-style: solid

				@media (max-width: $screen-md)
					border-right: none

				a
					color: $gray
					font-size: $font-size-large
					padding: 25px 15px
					display: block

				&.active
					background-color: #ffffff
					border: none

					+ li
						border-top-width: 1px

					a
						color: $gray


				&:last-child
					border-bottom-width: 0px

					@media (max-width: $screen-md)
						border-bottom-width: 1px

				+ li
					margin-top: 0
					border-top-width: 0px

			+ .tab-content
				@extend .col-md-8
				padding: 2em $grid-gutter-width
				background-color: #fff
				box-shadow: -1penvirx 0 0 #bbb

				@media (max-width: $screen-sm)
					box-shadow: none

				select,
				.select2,
				input[type="text"],
				.CompositeField
					width: 100%
					margin-bottom: 0.75em

					> *
						width: 100%

		.section
			margin-bottom: 30px

		*[name="action_showDeploySummary"]
			@extend .btn-block
			@extend .btn-lg
			@extend .btn-success
			border-radius: $border-radius-base
			font-size: 26px
			line-height: 40px
			margin: 20px 0

			@media (max-width: $screen-md)
				font-size: 20px

.fader-enter
	opacity: 0.01
	max-height: 0
	overflow: hidden
	transition-property: opacity, max-height
	transition-duration: 0.5s, 0.5s
	transition-timing-function: ease-out

.fader-enter.fader-active
	opacity: 1
	max-height: 1000px

.fader-leave
	opacity: 1
	max-height: 1000px
	overflow: hidden

.fader-leave.fader-active
	max-height: 0
	opacity: 0.01
	transition-property: opacity, max-height
	transition-duration: 0.5s, 0.5s
	transition-timing-function: ease-out

.fader-appear
	opacity: 0.01
	max-height: 0
	overflow: hidden
	transition-property: opacity, max-height
	transition-duration: 0.5s, 0.5s
	transition-timing-function: ease-out

.fader-appear.fader-appear-active
	opacity: 1
	max-height: 1000px

.deploy-history
	margin-top: $padding-large-vertical

.environment-details
	margin-bottom: $padding-large-vertical

	h3
		margin-bottom: 7px

	h3 .fa
		font-size: 14px
		vertical-align: super

	.build-details

		span.git-sha,
		a.git-sha
			font-size: 14px

	ul
		@extend .list-unstyled



.project-links
	@extend .list-reset
	text-align: right
	position: absolute
	bottom: 0
	right: 0
	margin-top: 7px
	margin-right: 15px

	li
		line-height: 24px
		margin-bottom: 4px

		a i
			color: #222

	@media (max-width: $screen-md)
		top: 0
		bottom: auto

	@media (max-width: $screen-sm)
		display: none


.deployment-status

	.deployment-progress
		height: auto

		.progress-bar
			padding: 8px 15px
			line-height: 40px
			font-size: 28px
			text-align: left

			.status
				@extend .pull-right
				font-size: 26px


.log-content
	overflow-y: auto
	font-size: 11px
	max-height: 450px
	background: #333
	color: #fff
	margin-top: 0
	margin-bottom: 0

.repo-ux img
	height: 14px
	margin-top: -3px

.repo-url

	label
		color: $gray
		display: block
		position: static
		margin-bottom: 0

	input[type=text]
		@extend .git-sha
		color: $gray-light
		line-height: 24px
		padding: 0 8px
		width: 100%
		border-width: 0 0 1px 0
		border-style: solid
		border-color: #e6e6e6

.project-branch
	.branch-details
		cursor: pointer

	.project-branch-content
		display: none

	.closed-icon
		display: inline-block

	.open-icon
		display: none

	&.open
		.project-branch-content
			display: block

		.closed-icon
			display: none

		.open-icon
			display: inline-block


.breadcrumb
	> li
		+ li
			&:before
				content: "#{$breadcrumb-separator}"
				padding: 0 5px 0 0
				margin-left: 5px



.well
	box-shadow: none



// Custom helpers

.vertical-center 		/* Uses .content-vert */
	min-height: 100%	/* Fallback for browsers do NOT support vh unit */
	min-height: 100vh	/* These two lines are counted as one :-)       */
	display: flex
	align-items: center

.vertical-offset-20		/* Uses .content-vert */
	min-height: 100%	/* Fallback for browsers do NOT support vh unit */
	min-height: 80vh	/* These two lines are counted as one :-)       */
	display: flex
	align-items: center

	> div
		width: 100%		/* Used for .content-vert */
		max-width: 600px
		margin: 0 auto

.i-push
	margin-right: 4px

.no-wrap
	white-space: nowrap

.text-lg .i-push
	width: 24px

.push
	margin-bottom: $padding-large-vertical*2

.push-lg
	margin-bottom: $padding-large-vertical*4

.alerts-approval-form
	margin-top: 20px

.table-data-archives
	.archive-list-extended
		td
			padding: 0

			.archive-extended
				padding: 15px

		.Actions
			margin-top: 0

		#Form_MoveForm,
		#Form_DataTransferRestoreForm
			.Actions
				width: 60%
				margin: 20px auto 15px

			fieldset > .field
				width: 60%
				margin: 0 auto

				+ .field
					margin-top: 20px

				&.checkbox

					input
						margin-left: 0

	.btn
		@extend .btn-sm
		@extend .btn-primary
		margin-bottom: 0

.popover-content
	word-wrap: break-word
